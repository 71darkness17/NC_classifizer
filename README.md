## NC_classifizer - определит ваш текст по нужным параметрам
Просто отправьте ваш файл с помощью [API](#api), запросив то, что вам нужно, и не тратьте время на классификацию заявки по типам.
```
curl -v -X POST -F "file=@test_data.csv" -o "result.csv" "http://localhost:5000/api/post/file?device_type=1&fail_point=5"
```
__В ДАННЫЙ МОМЕНТ API РАБОТАЕТ ТОЛЬКО ЛОКАЛЬНО, В СВЯЗИ С ОТСУТСТВИЕМ СЕРВЕРА__
### Содержание
1) [Описание решения](#description)
1) [Установка](#install)
1) [Начало работы](#get_started)
1) [API](#api)
1) [Требования](#requirements)
1) [Использованные технологии](#technologies)
1) [Авторы](#authors)

<a name="description"><h2>Описание решения</h2></a>
Благодаря предварительному анализу данных с помощью _pandas_, _matplotlib_  было выявлено 150 наиболее встречающихся ключевых слов для текстов тем и описаний(в ходе анализа все слова текста были приведены к единой начальной форме при помощи библиотеки _pymorphy3_).
1) На первом этапе текст преобразован в последовательность ключевых слов, а затем в числовую последовательность. На этом же этапе в тексте происходит обнаружение __Серийного номера__ с помощью регулярных выражений
2) На втором этапе нейросеть, построенная на TensorFlow Keras, опираясь на полученные числовые последовательности, предсказывает __Тип оборудования__ и __Точку отказа__
3) На третьем этапе формируется итоговая таблица, где присутствуют: индекс заявки, тема, описание, __тип оборудования__, __точка отказа__, __серийный номер__, _типовой ответ_, системная переменная полноты данных (0-1)
4) На четвертом этапе итоговая таблица передаётся с помощью API или транслируется в Веб-интерфейс.
  
__Особенностью__ нашего решения является формирование __типовых ответов__, наличие которых должно облегчить работу службы поддержки.

<a name="install"><h2>Установка</h2></a>
### Серверная/Клиентская часть:
1) Установить NC_classifizer.zip на вашу систему и распоковать в ./NC_classifizer
2) Зайти в PowerShell и перейти в ./NC_classifizer
3) Ввести в PowerShell
```
   python3 -m venv venv
   .\venv\Scripts\activate
   pip install - "requiments"
   ```
4) Запустить NC_classifizer.bat
### Интеграция с API
создайте запрос согласно документации к [API NC_classifizer](#api)
<a name="get_started"><h2>Начало работы</h2></a>
### Веб-интерфейс
1) Запустите NC_classifizer.bat
2) Перетащите __.csv__ (должен быть в соотвтествии с [требованием к файлам](#requirements)) файл в окно загрузки, или нажмите в любую часть его поля, кроме кнопки загрузить, чтобы выбрать файл на локальном диске
3) Нажмите кнопку __загрузить__ 
4) Вам предоставляется тблица в которой вы можете нажать кнопку __посмотреть__ для того, чтобы увидеть полный текст заявки, а также рекомендаций по быстрому ответу на неё или __Экспортировать в CSV__ всю таблицу
### При помощи API
1) Подготовьте __.csv__ файл, который будет соответствовать [требованию](#requirements)
2) Создайте запрос согласно [документации](#api) и вашим требованиям
3) Вы получаете __.csv__ файл с данными

<a name='api'><h2>API</h2></a>
Общая часть для любого запроса:
`http://localhost:5000/api/post/file?`
Далее вводятся параметры фильтрации с разделителем `&`:
* `device_type` - Тип оборудования
* `fail_point` - Точка отказа
* `status` - значение 0-1 указывает на полноту данных(наличие серийного номера)

|fail_point=|Значение                    |device_type=|Значение              |
|:---------:|----------------------------|:----------:|----------------------|
|0          |Консультация                |0           |Ноутбук               |
|1          |Аккумулятор                 |1           |Сервер                |
|2          |Блок питания                |2           |CХД(Система хранения данных)|
|3          |Вентилятор                  |            |                      |
|4          |Динамики                    |            |                      |
|5          |Диск                        |            |                      |
|6          |Камера                      |            |                      |
|7          |Клавиатура                  |            |                      |
|8          |Корпус                      |            |                      |
|9          |Материнская плата           |            |                      |
|10         |Оперативная память          |            |                      |
|11         |Программное обеспечение     |            |                      |
|12         |Сервер                      |            |                      |
|13         |Jack                        |            |                      |
|14         |SFP модуль                  |            |                      |
|15         |Wi-fi модуль                |            |                      |    

В параметрах может вводиться сразу несколько значений(перечисляются через запятую), отсутствие значения означает что по этому параметру будут сформированы все категории  
Пример запроса API:
```
http://localhost:5000/api/post/file?device_type=0,1&fail_point=4,9&status=0
```
<a name='requirements'><h2>Требования к файлам</h2></a>
1) Файл должен быть формата __.csv__
2) Структура файла должна представлять из себя подобие данной(Заголовки столбцов должны в точности совпадать с приведенными в примере):

    |index|Тема            |Описание       |
    |:---:|--------------- |---------------|
    | 1   |Текст Темы1     |Текст Описания1|
    | 2   |Текст Темы2     |Текст Описания2|
<a name='technologies'><h2> Использованные технологии </h2></a>  
* Keras - TensorFlow (Нейронная сеть)
* Python (Язык программирования для бэкенд)
* pymorphy3 (Нормализация текста)
* pandas (Работа с таблицами и данными)

<a name='authors'><h2>Авторы</h2></a>
* [Буланов Егор](https://github.com/Dezmant8) - Analyst, Product Manager
* [Фирсова Валерия](https://github.com/Dorila24) - Analyst, Designer
* [Заворохин Владимир](https://github.com/71darkness17) - Data Scientist, Data Analyst
* [Зиновьев Дмитрий](https://github.com/dmitryz1024) - ML/DL, Techlead
* [Босенко Тимофей](https://github.com/camtimhamilton) - Frontend, API, Teamlead

